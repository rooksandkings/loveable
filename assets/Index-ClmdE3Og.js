import{c as e,a as t,u as r,j as s,b as a,d as n,e as l,f as o,g as i,h as c}from"./ui-vendor-CVcv4Zzz.js";import{r as d,c as u}from"./react-vendor-tkGVC3Du.js";import{u as m}from"./query-vendor-B8TzFr-Q.js";import{c as x,C as g,a as h,B as p,I as f,S as b,b as _,d as v,e as y,f as j,g as N}from"./neon-api-C1AeWe5L.js";import{c as w}from"./index-B2S3Hpxa.js";import{D as C,C as A,a as I,H as D,b as S,W as k,c as F,M as L,S as T,R,E as M,d as P,A as B,G as E,L as G}from"./icons-CwoiqeW0.js";var z="rovingFocusGroup.onEntryFocus",W={bubbles:!1,cancelable:!0},$="RovingFocusGroup",[H,K,O]=t($),[U,V]=e($,[O]),[Z,Y]=U($),q=d.forwardRef((e,t)=>s.jsx(H.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(H.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(J,{...e,ref:t})})}));q.displayName=$;var J=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:u,loop:m=!1,dir:x,currentTabStopId:g,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:f,preventScrollOnEntryFocus:b=!1,..._}=e,v=d.useRef(null),y=l(t,v),j=o(x),[N,w]=i({prop:g,defaultProp:h??null,onChange:p,caller:$}),[C,A]=d.useState(!1),I=c(f),D=K(r),S=d.useRef(!1),[k,F]=d.useState(0);return d.useEffect(()=>{const e=v.current;if(e)return e.addEventListener(z,I),()=>e.removeEventListener(z,I)},[I]),s.jsx(Z,{scope:r,orientation:u,dir:j,loop:m,currentTabStopId:N,onItemFocus:d.useCallback(e=>w(e),[w]),onItemShiftTab:d.useCallback(()=>A(!0),[]),onFocusableItemAdd:d.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:d.useCallback(()=>F(e=>e-1),[]),children:s.jsx(a.div,{tabIndex:C||0===k?-1:0,"data-orientation":u,..._,ref:y,style:{outline:"none",...e.style},onMouseDown:n(e.onMouseDown,()=>{S.current=!0}),onFocus:n(e.onFocus,e=>{const t=!S.current;if(e.target===e.currentTarget&&t&&!C){const t=new CustomEvent(z,W);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=D().filter(e=>e.focusable);te([e.find(e=>e.active),e.find(e=>e.id===N),...e].filter(Boolean).map(e=>e.ref.current),b)}}S.current=!1}),onBlur:n(e.onBlur,()=>A(!1))})})}),Q="RovingFocusGroupItem",X=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:l,focusable:o=!0,active:i=!1,tabStopId:c,children:u,...m}=e,x=r(),g=c||x,h=Y(Q,l),p=h.currentTabStopId===g,f=K(l),{onFocusableItemAdd:b,onFocusableItemRemove:_,currentTabStopId:v}=h;return d.useEffect(()=>{if(o)return b(),()=>_()},[o,b,_]),s.jsx(H.ItemSlot,{scope:l,id:g,focusable:o,active:i,children:s.jsx(a.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...m,ref:t,onMouseDown:n(e.onMouseDown,e=>{o?h.onItemFocus(g):e.preventDefault()}),onFocus:n(e.onFocus,()=>h.onItemFocus(g)),onKeyDown:n(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,r){const s=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,r);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(s)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)?void 0:ee[s]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const n=a.indexOf(e.currentTarget);a=h.loop?(s=n+1,(r=a).map((e,t)=>r[(s+t)%r.length])):a.slice(n+1)}setTimeout(()=>te(a))}var r,s}),children:"function"==typeof u?u({isCurrentTabStop:p,hasTabStop:null!=v}):u})})});X.displayName=Q;var ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function te(e,t=!1){const r=document.activeElement;for(const s of e){if(s===r)return;if(s.focus({preventScroll:t}),document.activeElement!==r)return}}var re=q,se=X,ae="Toggle",ne=d.forwardRef((e,t)=>{const{pressed:r,defaultPressed:l,onPressedChange:o,...c}=e,[d,u]=i({prop:r,onChange:o,defaultProp:l??!1,caller:ae});return s.jsx(a.button,{type:"button","aria-pressed":d,"data-state":d?"on":"off","data-disabled":e.disabled?"":void 0,...c,ref:t,onClick:n(e.onClick,()=>{e.disabled||u(!d)})})});ne.displayName=ae;var le=ne,oe="ToggleGroup",[ie,ce]=e(oe,[V]),de=V(),ue=u.forwardRef((e,t)=>{const{type:r,...a}=e;if("single"===r){const e=a;return s.jsx(ge,{...e,ref:t})}if("multiple"===r){const e=a;return s.jsx(he,{...e,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${oe}\``)});ue.displayName=oe;var[me,xe]=ie(oe),ge=u.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...l}=e,[o,c]=i({prop:r,defaultProp:a??"",onChange:n,caller:oe});return s.jsx(me,{scope:e.__scopeToggleGroup,type:"single",value:u.useMemo(()=>o?[o]:[],[o]),onItemActivate:c,onItemDeactivate:u.useCallback(()=>c(""),[c]),children:s.jsx(be,{...l,ref:t})})}),he=u.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...l}=e,[o,c]=i({prop:r,defaultProp:a??[],onChange:n,caller:oe}),d=u.useCallback(e=>c((t=[])=>[...t,e]),[c]),m=u.useCallback(e=>c((t=[])=>t.filter(t=>t!==e)),[c]);return s.jsx(me,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:d,onItemDeactivate:m,children:s.jsx(be,{...l,ref:t})})});ue.displayName=oe;var[pe,fe]=ie(oe),be=u.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:l=!0,orientation:i,dir:c,loop:d=!0,...u}=e,m=de(r),x=o(c),g={role:"group",dir:x,...u};return s.jsx(pe,{scope:r,rovingFocus:l,disabled:n,children:l?s.jsx(re,{asChild:!0,...m,orientation:i,dir:x,loop:d,children:s.jsx(a.div,{...g,ref:t})}):s.jsx(a.div,{...g,ref:t})})}),_e="ToggleGroupItem",ve=u.forwardRef((e,t)=>{const r=xe(_e,e.__scopeToggleGroup),a=fe(_e,e.__scopeToggleGroup),n=de(e.__scopeToggleGroup),l=r.value.includes(e.value),o=a.disabled||e.disabled,i={...e,pressed:l,disabled:o},c=u.useRef(null);return a.rovingFocus?s.jsx(se,{asChild:!0,...n,focusable:!o,active:l,ref:c,children:s.jsx(ye,{...i,ref:t})}):s.jsx(ye,{...i,ref:t})});ve.displayName=_e;var ye=u.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:a,...n}=e,l=xe(_e,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i="single"===l.type?o:void 0;return s.jsx(ne,{...i,...n,ref:t,onPressedChange:e=>{e?l.onItemActivate(a):l.onItemDeactivate(a)}})}),je=ue,Ne=ve;const we=x("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});d.forwardRef(({className:e,variant:t,size:r,...a},n)=>s.jsx(le,{ref:n,className:w(we({variant:t,size:r,className:e})),...a})).displayName=le.displayName;const Ce=d.createContext({size:"default",variant:"default"}),Ae=d.forwardRef(({className:e,variant:t,size:r,children:a,...n},l)=>s.jsx(je,{ref:l,className:w("flex items-center justify-center gap-1",e),...n,children:s.jsx(Ce.Provider,{value:{variant:t,size:r},children:a})}));Ae.displayName=je.displayName;const Ie=d.forwardRef(({className:e,children:t,variant:r,size:a,...n},l)=>{const o=d.useContext(Ce);return s.jsx(Ne,{ref:l,className:w(we({variant:o.variant||r,size:o.size||a}),e),...n,children:t})});Ie.displayName=Ne.displayName;const De=x("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return s.jsx("div",{className:w(De({variant:t}),e),...r})}const ke=e=>{if(!e)return 0;const t=e.match(/(\d+)\s*yr?\s*(\d+)?\s*mo?/);if(t){return 12*(parseInt(t[1])||0)+(parseInt(t[2])||0)}return 0},Fe=(e,t)=>{if("Foster Care"===e)return"In Foster";if(e&&e.startsWith("ISO")&&"ISO Dogs"===t){return`ISO Dogs ${e.replace("ISO","")}`}if(e&&e.startsWith("IsoP")&&"ISO Puppies"===t){return`ISO Puppies ${e.replace("IsoP","")}`}if(e&&e.includes("Cat Holding")&&t&&t.includes("Cat Hold")){const r=e.match(/Cat Holding \((\d+)\) (\d+)/),s=t.match(/Cat Hold\((\d+)\)/);if(r&&s){const[,e,t]=r;return`Cat Holdings (${e}) - ${t}`}}if(e&&e.startsWith("Hold")&&"Dog Hold"===t){return`Dog Holding ${e.replace("Hold","")}`}if(e&&e.startsWith("Bonding Rooms")&&("Bonding Rooms"===t||!t)){const t=e.match(/Bonding Rooms ([A-Z]\d+)([A-Z])/);if(t){const[,e,r]=t;return`Bonding Rooms ${e} - ${r}`}return e}if(e&&e.includes("Hall Crate")&&("Hall Crate"===t||!t)){let t=e.replace(/^Hall Crate\s+Hall Crate\s+/,"Hall Crate ");return t=t.replace(/(\d+)-([A-Z])/g,"$1 - $2"),t}if(t&&t.includes("Adopt Dogs")&&e&&e.match(/^[A-Z]\d+/)){return e.replace(/^([A-Z])(\d+)/,"$1 - $2")}return t&&t!==e?`${e} • ${t}`:e},Le=u.memo(({dog:e,isFavorite:t,onToggleFavorite:r})=>{const{currentImageIndex:a,imageError:n,currentImageUrl:l,handleImageError:o,nextImage:i,prevImage:c,setCurrentImageIndex:u,dftdEligible:m,sizeCategory:x,breedDisplay:f,hasMultiplePhotos:b,genderInfo:_,isEssentialOnly:v}=(e=>{const[t,r]=d.useState(0),[s,a]=d.useState(!1),n=d.useCallback(e=>{if(!e||""===e.trim()||"N/A"===e)return null;const t=e.trim();if(t.includes("petango.com"))return t;if(t.includes("drive.google.com")){const e=t.match(/\/d\/([a-zA-Z0-9-_]+)/)?.[1];return e?`https://drive.google.com/uc?id=${e}`:null}return t},[]),l=d.useMemo(()=>{const t=[];return e.mini_pic_1&&t.push(e.mini_pic_1),e.mini_pic_2&&t.push(e.mini_pic_2),e.mini_pic_3&&t.push(e.mini_pic_3),t},[e.mini_pic_1,e.mini_pic_2,e.mini_pic_3]),o=d.useMemo(()=>0===l.length?null:n(l[t]),[l,t,n]),i=d.useCallback(()=>{a(!0),l.length>t+1&&r(e=>e+1)},[t,l]);d.useEffect(()=>{a(!1),r(0)},[e["Dog ID"]]);const c=d.useMemo(()=>({dftdEligible:"Yes"===e.DFTD_eligibility,sizeCategory:e.Weight<=25?"Small":e.Weight<=60?"Medium":"Large",breedDisplay:e["Breed AI"]||"Mixed Breed",hasMultiplePhotos:l.length>1,genderInfo:e.Gender?{icon:"male"===e.Gender.toLowerCase()?"♂":"♀",className:"male"===e.Gender.toLowerCase()?"text-blue-500 text-lg":"text-pink-500 text-lg"}:null,isEssentialOnly:!e.Level&&!e.Days_in_DCAS}),[e,l.length]),u=d.useCallback(()=>{c.hasMultiplePhotos&&r(e=>(e+1)%l.length)},[c.hasMultiplePhotos,l.length]),m=d.useCallback(()=>{c.hasMultiplePhotos&&r(e=>(e-1+l.length)%l.length)},[c.hasMultiplePhotos,l.length]);return{currentImageIndex:t,imageError:s,currentImageUrl:o,handleImageError:i,nextImage:u,prevImage:m,setCurrentImageIndex:r,...c}})(e);return s.jsxs(g,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-orange-50 to-yellow-50 border-orange-200 flex flex-col h-full",children:[s.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-orange-100 to-yellow-100 overflow-hidden rounded-t-lg",children:[l&&!n?s.jsx("img",{src:l,alt:e.Name,className:"w-full h-full object-contain",loading:"lazy",onError:o}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx(C,{className:"h-16 w-16 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Photo Coming Soon"}),s.jsxs("span",{className:"text-xs",children:["We're working on getting ",e.Name,"'s photo!"]})]}),n&&s.jsxs("div",{className:"absolute inset-0 w-full h-full flex flex-col items-center justify-center text-gray-400 bg-gradient-to-br from-orange-100 to-yellow-100",children:[s.jsx(C,{className:"h-16 w-16 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Image Not Available"}),s.jsxs("span",{className:"text-xs text-center px-4",children:["We're working on updating ",e.Name,"'s photo!"]})]}),b&&l&&!n&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:c,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/90 backdrop-blur-sm p-1 rounded-full hover:bg-white transition-colors duration-200 shadow-sm",children:s.jsx(A,{className:"h-4 w-4 text-gray-700"})}),s.jsx("button",{onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/90 backdrop-blur-sm p-1 rounded-full hover:bg-white transition-colors duration-200 shadow-sm",children:s.jsx(I,{className:"h-4 w-4 text-gray-700"})})]}),b&&l&&!n&&s.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:Array.from({length:3}).map((e,t)=>s.jsx("button",{onClick:()=>u(t),className:"w-2 h-2 rounded-full transition-colors duration-200 "+(t===a?"bg-white shadow-sm":"bg-white/60")},t))}),e.shelter_location&&s.jsxs(Se,{variant:"outline",className:`absolute top-2 right-2 text-xs font-semibold\n              ${"DCAS"===e.shelter_location?"bg-orange-100 text-orange-800 border-orange-200":""}\n              ${"FCAS"===e.shelter_location?"bg-blue-100 text-blue-800 border-blue-200":""}\n              ${"CAC"===e.shelter_location?"bg-green-100 text-green-800 border-green-200":""}\n            `,children:["DCAS"===e.shelter_location&&"Dekalb","FCAS"===e.shelter_location&&"Fulton","CAC"===e.shelter_location&&"CAC"]}),e.Level&&e.Level>0&&s.jsxs(Se,{variant:"outline",className:`absolute top-10 right-2 text-xs font-medium ${(e=>{switch(e){case 1:return"bg-green-100 text-green-800 border-green-200";case 2:return"bg-yellow-100 text-yellow-800 border-yellow-200";case 3:return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(Number(e.Level))}`,children:["Level ",e.Level]}),s.jsx("button",{onClick:()=>r(e["Dog ID"]),className:"absolute top-2 left-2 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white transition-colors duration-200 shadow-sm",children:s.jsx(D,{className:"h-4 w-4 "+(t?"fill-red-500 text-red-500":"text-gray-600")})})]}),s.jsxs(h,{className:"p-4 flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.Name}),_&&s.jsx("span",{className:_.className,children:_.icon})]}),s.jsxs(Se,{variant:"outline",className:"text-xs bg-white/80 backdrop-blur-sm",children:["ID: ",e["Dog ID"]]})]}),v?s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4"})]}):s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(C,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Resembles:"}),s.jsx("span",{children:f})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(S,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Age:"}),s.jsx("span",{children:e.Approx_Age})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(k,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Weight:"}),s.jsxs("span",{children:[e.Weight," lbs"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(F,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.Days_in_DCAS," days in care"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[s.jsx(L,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Location:"}),s.jsx("span",{children:Fe(e.Location_kennel,e.Location_room)})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[m&&s.jsxs(Se,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 font-medium",children:[s.jsx(T,{className:"h-3 w-3 mr-1"}),"DFTD Eligible"]}),s.jsxs(Se,{className:"bg-blue-100 text-blue-800 border-blue-200 flex items-center gap-1",children:[s.jsx(R,{className:"h-3 w-3"}),x]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(Se,{variant:"outline",className:(y=e.Spay_Neuter_status,"Yes"===y?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"),children:((e,t)=>"Yes"===e?"female"===t?.toLowerCase()?"Spayed":"Neutered":"female"===t?.toLowerCase()?"Not Spayed":"Not Neutered")(e.Spay_Neuter_status,e.Gender)}),e.Sociability_status&&e.Sociability_status!==e.Sociablity_playstyle&&s.jsx(Se,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:e.Sociability_status}),e.Sociablity_playstyle&&s.jsx(Se,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:e.Sociablity_playstyle}),e.Cuddle_Meter&&"N/A"!==e.Cuddle_Meter&&"Unknown"!==e.Cuddle_Meter&&!e.Cuddle_Meter.includes("Unknown")&&!e.Cuddle_Meter.includes("Not tested")&&s.jsxs(Se,{variant:"outline",className:"bg-pink-50 text-pink-700 border-pink-200",children:["Cuddle: ",e.Cuddle_Meter]}),e.Kid_Interaction&&"N/A"!==e.Kid_Interaction&&"Unknown"!==e.Kid_Interaction&&!e.Kid_Interaction.includes("Unknown")&&!e.Kid_Interaction.includes("Not tested")&&s.jsxs(Se,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:["Kids: ",e.Kid_Interaction]}),e.Cat_Interaction&&"N/A"!==e.Cat_Interaction&&"Unknown"!==e.Cat_Interaction&&!e.Cat_Interaction.includes("Unknown")&&!e.Cat_Interaction.includes("Not tested")&&s.jsxs(Se,{variant:"outline",className:"bg-indigo-50 text-indigo-700 border-indigo-200",children:["Cats: ",e.Cat_Interaction]}),e.Dog_Interaction&&"N/A"!==e.Dog_Interaction&&"Unknown"!==e.Dog_Interaction&&!e.Dog_Interaction.includes("Unknown")&&!e.Dog_Interaction.includes("Not tested")&&s.jsxs(Se,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:["Dogs: ",e.Dog_Interaction]})]}),s.jsx("div",{className:"flex-1"}),s.jsx(p,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>{e.Adopets_url&&"Dog Not Found"!==e.Adopets_url&&window.open(e.Adopets_url,"_blank")},disabled:!e.Adopets_url||"Dog Not Found"===e.Adopets_url,children:e.Adopets_url&&"Dog Not Found"!==e.Adopets_url?"View Adoption Details":"Currently Unavailable"})]})]});var y},(e,t)=>e.dog["Dog ID"]===t.dog["Dog ID"]&&e.isFavorite===t.isFavorite);Le.displayName="DogCard";const Te=({dogs:e,favorites:t,onToggleFavorite:r,viewMode:a="cards"})=>{const n=e=>{switch(e){case 1:return"bg-green-100 text-green-800 border-green-300";case 2:return"bg-yellow-100 text-yellow-800 border-yellow-300";case 3:return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},l=d.useCallback(e=>{if(!e||""===e.trim()||"N/A"===e)return"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=400&fit=crop&crop=face";const t=e.trim();if(t.includes("petango.com"))return t;if(t.includes("drive.google.com")){const e=t.match(/\/d\/([a-zA-Z0-9-_]+)/)?.[1];return e?`https://drive.google.com/uc?export=view&id=${e}`:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=400&fit=crop&crop=face"}return t},[]);return"table"===a?s.jsx("div",{children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-orange-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 border-b border-orange-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Photo"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 relative",children:s.jsxs("div",{className:"relative group",children:[s.jsx("span",{className:"cursor-help underline decoration-dotted",children:"Breed"}),s.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["AI-identified breed. DNA test may be required to verify.",s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-800"})]})]})}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 w-24",children:"Age"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Weight"}),s.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 w-20",children:"Level"}),s.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Location"}),s.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Adopt"})]})}),s.jsx("tbody",{className:"divide-y divide-orange-100",children:e.map(e=>{const t="male"===(r=e.Gender).toLowerCase()?s.jsx("span",{className:"text-blue-500 text-lg",children:"♂"}):"female"===r.toLowerCase()?s.jsx("span",{className:"text-pink-500 text-lg",children:"♀"}):null;var r;return s.jsxs("tr",{className:"hover:bg-orange-25 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-lg overflow-hidden flex items-center justify-center",children:s.jsx("img",{src:l(e.mini_pic_1),alt:e.Name,className:"max-w-full max-h-full object-cover",onError:e=>{e.currentTarget.src="https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=400&fit=crop&crop=face"}})})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[t&&s.jsx("span",{className:t.className,children:t.icon}),s.jsx("span",{className:"font-medium text-gray-900",children:e.Name})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",e["Dog ID"]]})]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:e["Breed AI_1"]||e["Breed AI"]||"Mixed Breed"}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 whitespace-nowrap",children:e.Approx_Age}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-700",children:[e.Weight," lbs"]}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${n(e.Level)}`,children:["Level ",e.Level]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"text-sm text-gray-700",children:Fe(e.Location_kennel,e.Location_room)})}),s.jsx("td",{className:"px-4 py-3 text-center",children:e.Adopets_url?s.jsx(p,{asChild:!0,size:"sm",className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white",children:s.jsxs("a",{href:e.Adopets_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[s.jsx("span",{children:"Adopt"}),s.jsx(M,{className:"h-3 w-3"})]})}):s.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})})]},e["Dog ID"])})})]})})})}):s.jsx("div",{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>s.jsx(Le,{dog:e,isFavorite:t.has(e["Dog ID"]),onToggleFavorite:()=>r(e["Dog ID"])},e["Dog ID"]))})})},Re=()=>{const[e,t]=d.useState(""),[r,a]=d.useState("all"),[n,l]=d.useState("all"),[o,i]=d.useState("name"),[c,u]=d.useState("cards"),[x,g]=d.useState(new Set),{data:h=[],isLoading:w,error:C}=m({queryKey:["dogs"],queryFn:async()=>{try{const e=await N(),t=e.map(e=>({"Dog ID":e.dog_id,Name:e.name,"Breed AI":e.breed_ai,mini_pic_1:e.mini_pic_1?.replace(/\n/g,"").trim()||"",mini_pic_2:e.mini_pic_2?.replace(/\n/g,"").trim()||"",mini_pic_3:e.mini_pic_3?.replace(/\n/g,"").trim()||"",Gender:e.gender?.trim()||"Unknown",Approx_Age:e.approx_age,Weight:e.weight||0,Level:e.level||0,Location_kennel:e.location_kennel,Location_room:e.location_room,Spay_Neuter_status:e.spay_neuter_status,Sociability_status:e.sociability_status,Sociablity_playstyle:e.sociablity_playstyle,Petpoint_url:e.petpoint_url,Breed_AI_1:e.breed_ai_1,Breed_AI_2:e.breed_ai_2,Breed_AI_3:e.breed_ai_3,DOB:e.dob,Intake_Date:e.intake_date,Days_in_DCAS:e.days_in_dcas||0,Color_pimary:e.color_pimary,Color_seconday:e.color_seconday,Adoption_restriction:e.adoption_restriction,DA2PPV_vax_date:e.da2ppv_vax_date,Rabies_vax_date:e.rabies_vax_date,HW_test_date:e.hw_test_date,Heartworm_Status:e.heartworm_status,Foster_status:e.foster_status,L2_reason:e.l2_reason,Play_group_initial:e.play_group_initial,Play_group_recent:e.play_group_recent,Sociability_notes:e.sociability_notes?.replace(/\n/g,"").trim()||"",Adopets_url:e.adopets_url,DFTD_eligibility:e.dftd_eligibility,Adopets_status:e.adopets_status,Cuddle_Meter:e.Cuddle_Meter||"",Kid_Interaction:e.Kid_Interaction||"",Cat_Interaction:e.Cat_Interaction||"",Dog_Interaction:e.Dog_Interaction||"",Potty_Skills:e.Potty_Skills||"",Crate_Trained:e.Crate_Trained||"",Energy_Activity_Level:e.Energy_Activity_Level||"",Leash_Skills:e.Leash_Skills||"",shelter_location:e.shelter_location||""})).filter(e=>{const t=e.Name&&!e.Name.startsWith("http");return t});return t.length,t}catch(e){throw e}},staleTime:432e5,gcTime:864e5,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),A=e=>{if(!e||""===e.trim())return"Mixed Breed";const t=e.toLowerCase();if(t.includes("pit bull")||t.includes("pitbull")||t.includes("american pit bull")||t.includes("staffordshire"))return"Pit Bull / Staffordshire";if(t.includes("boxer"))return"Boxer";if(t.includes("labrador")||t.includes("lab mix"))return"Labrador Retriever";if(t.includes("german shepherd"))return"German Shepherd";if(t.includes("husky")||t.includes("alaskan malamute"))return"Husky / Northern Breed";if(t.includes("bulldog")||t.includes("american bulldog")||t.includes("french bulldog")||t.includes("english bulldog"))return"Bulldog";if(t.includes("belgian malinois")||t.includes("belgian shepherd"))return"Belgian Malinois";if(t.includes("rottweiler"))return"Rottweiler";if(t.includes("cane corso"))return"Cane Corso";if(t.includes("border collie"))return"Border Collie";if(t.includes("chihuahua"))return"Chihuahua";if(t.includes("great dane"))return"Great Dane";if(t.includes("terrier")&&!t.includes("pit bull")&&!t.includes("staffordshire"))return"Terrier";if(t.includes("retriever")&&!t.includes("labrador"))return"Retriever";if(t.includes("shepherd")&&!t.includes("german"))return"Shepherd";if(t.includes("mixed breed")||t.includes("mix"))return"Mixed Breed";return e.split(",")[0].trim()||"Mixed Breed"},I=d.useMemo(()=>{const e=h.map(e=>A(e["Breed AI"]));return[...new Set(e)].sort()},[h]),D=d.useMemo(()=>h.filter(t=>{const s=""===e||t.Name.toLowerCase().includes(e.toLowerCase())||A(t["Breed AI"]).toLowerCase().includes(e.toLowerCase())||t["Dog ID"].toString().includes(e),a="all"===r||A(t["Breed AI"])===r,l=t.Location_kennel&&t.Location_kennel.toLowerCase().includes("foster")||t.Location_room&&t.Location_room.toLowerCase().includes("foster");let o=!0;switch(n){case"all":default:o=!0;break;case"all_in_foster":o=l;break;case"all_in_shelter":o=!l;break;case"DCAS_in_shelter":o="DCAS"===t.shelter_location&&!l;break;case"DCAS_in_foster":o=l&&"DCAS"===t.shelter_location;break;case"FCAS_in_shelter":o="FCAS"===t.shelter_location&&!l;break;case"FCAS_in_foster":o=l&&"FCAS"===t.shelter_location;break;case"CAC_in_shelter":o="CAC"===t.shelter_location&&!l;break;case"CAC_in_foster":o=l&&"CAC"===t.shelter_location}const i=t.Adopets_url&&"Dog Not Found"!==t.Adopets_url;return s&&a&&o&&i}),[h,e,r,n]),S=d.useMemo(()=>{const e=[...D];switch(o){case"name":e.sort((e,t)=>e.Name.localeCompare(t.Name));break;case"age":e.sort((e,t)=>ke(e.Approx_Age)-ke(t.Approx_Age));break;case"size":case"weight":e.sort((e,t)=>parseFloat(String(e.Weight||0))-parseFloat(String(t.Weight||0)));break;case"level":e.sort((e,t)=>parseInt(String(e.Level||0))-parseInt(String(t.Level||0)));break;case"dftdEligible":e.sort((e,t)=>{const r="Yes"===e.DFTD_eligibility?1:0;return("Yes"===t.DFTD_eligibility?1:0)-r});break;case"daysInCare":e.sort((e,t)=>t.Days_in_DCAS-e.Days_in_DCAS);break;case"daysInCareDesc":e.sort((e,t)=>e.Days_in_DCAS-t.Days_in_DCAS)}return e},[D,o]);return w?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50",children:[s.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4",children:"Paw Poster"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"🐾 To be seen is to be saved 🐾"}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-orange-100 max-w-5xl mx-auto opacity-50",children:s.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:s.jsxs("div",{className:"relative flex-1 min-w-0",children:[s.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx(f,{placeholder:"Loading dogs...",disabled:!0,className:"pl-10 h-12 border-orange-200 rounded-xl text-base"})]})})})]})}),s.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-7xl mx-auto text-center",children:s.jsx("div",{className:"text-lg text-gray-600",children:"Loading amazing dogs..."})})})]}):C?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-8xl mb-6",children:"😢"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"We couldn't fetch the dogs right now"}),s.jsx(p,{onClick:()=>window.location.reload(),className:"bg-orange-500 hover:bg-orange-600",children:"Try Again"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50",children:[s.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-4",children:"Paw Poster"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"🐾 To be seen is to be saved 🐾"}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-orange-100 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-0",children:[s.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx(f,{placeholder:"Search by name, looks, or ID...",value:e,onChange:e=>t(e.target.value),className:"pl-10 h-12 border-orange-200 focus:border-orange-400 focus:ring-orange-400 rounded-xl text-base"})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsxs(b,{value:r,onValueChange:a,children:[s.jsx(_,{className:"h-12 w-48 border-orange-200 focus:border-orange-400 focus:ring-orange-400 rounded-xl",children:s.jsx(v,{placeholder:"Resembles All Dogs"})}),s.jsxs(y,{children:[s.jsx(j,{value:"all",children:"Resembles All Dogs"}),I.map(e=>s.jsx(j,{value:e,children:e},e))]})]}),s.jsxs(b,{value:n,onValueChange:l,children:[s.jsx(_,{className:"h-12 w-64 border-orange-200 focus:border-orange-400 focus:ring-orange-400 rounded-xl",children:s.jsx(v,{placeholder:"Location"})}),s.jsxs(y,{children:[s.jsx(j,{value:"all",children:"All Dogs"}),s.jsx(j,{value:"all_in_shelter",children:"All In Shelter"}),s.jsx(j,{value:"all_in_foster",children:"All In Foster"}),s.jsx(j,{value:"DCAS_in_shelter",children:"DCAS In Shelter"}),s.jsx(j,{value:"DCAS_in_foster",children:"DCAS In Foster"}),s.jsx(j,{value:"FCAS_in_shelter",children:"FCAS In Shelter"}),s.jsx(j,{value:"FCAS_in_foster",children:"FCAS In Foster"}),s.jsx(j,{value:"CAC_in_shelter",children:"CAC In Shelter"}),s.jsx(j,{value:"CAC_in_foster",children:"CAC In Foster"})]})]}),s.jsxs(b,{value:o,onValueChange:e=>i(e),children:[s.jsxs(_,{className:"h-12 w-40 border-orange-200 focus:border-orange-400 focus:ring-orange-400 rounded-xl",children:[s.jsx(B,{className:"h-4 w-4 mr-2"}),s.jsx(v,{placeholder:"Sort by"})]}),s.jsxs(y,{children:[s.jsx(j,{value:"name",children:"Name"}),s.jsx(j,{value:"age",children:"Age"}),s.jsx(j,{value:"size",children:"Size"}),s.jsx(j,{value:"level",children:"Level"}),s.jsx(j,{value:"weight",children:"Weight"}),s.jsx(j,{value:"daysInCare",children:"Oldest"}),s.jsx(j,{value:"daysInCareDesc",children:"Newest"}),s.jsx(j,{value:"dftdEligible",children:"DFTD Eligible"})]})]}),s.jsxs(Ae,{type:"single",value:c,onValueChange:u,className:"bg-gray-100 rounded-xl p-1 h-12",children:[s.jsx(Ie,{value:"cards",className:"data-[state=on]:bg-white data-[state=on]:shadow-sm h-10 px-3",children:s.jsx(E,{className:"h-4 w-4"})}),s.jsx(Ie,{value:"table",className:"data-[state=on]:bg-white data-[state=on]:shadow-sm h-10 px-3",children:s.jsx(G,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"flex items-center justify-center mt-4",children:s.jsxs("span",{className:"text-gray-600 font-medium",children:[D.length," of ",h.length," dogs"]})})]})]})}),s.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Te,{dogs:S,favorites:x,onToggleFavorite:e=>{g(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},viewMode:c}),0===D.length&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-8xl mb-6",children:"🐕‍🦺"}),s.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"No dogs found"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search criteria to find more furry friends!"}),s.jsx(p,{onClick:()=>{t(""),a("all"),l("all")},className:"bg-orange-500 hover:bg-orange-600",children:"Clear Filters"})]})]})})]})};export{Re as default};
